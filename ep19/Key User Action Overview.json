{"version":11,"variables":[{"key":"AppName","type":"query","input":"fetch dt.entity.application \n|fields entity.name","multiple":true},{"key":"KPI","type":"csv","input":"Duration,VisuallyCompleteTime,SpeedIndex,LoadEventEnd,FirstInputDelay,CumulativeLayoutShift,LargestContentfulPaint,CdnBusyTime,CdnResources,DocumentInteractiveTime,DomCompleteTime,DomContentLoadedTime,FirstPartyBusyTime,FirstPartyResources,FrontendTime,LoadEventStart,NavigationStart,NetworkTime,RequestStart,ResponseEnd,ResponseStart,ServerTime,ThirdPartyBusyTime,ThirdPartyResources","multiple":false},{"key":"KeyUserAction","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n   const usqlQuery = 'SELECT DISTINCT name FROM useraction WHERE keyuseraction is true';\n  const response = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery });\n\nconst sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n//        flat = flat.concat(arr[i]);\nflat = flat.concat(arr[i][0].replace(/\"/g, \"\\\\\\\"\"));\n    }\n    return flat;\n}\n return( flatten(response.values))\n\n}","multiple":true},{"key":"TimeShift","type":"csv","input":"1,7,14,21","multiple":false}],"tiles":{"5":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"8":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"9":{"type":"markdown","title":"","content":"![](data:image/webp;base64,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)"},"23":{"type":"code","title":"Apdex","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\n\nconst query = 'SELECT CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CSatisfied Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CTolerated Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CFrustrated Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PSatisfied Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PTolerated Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PFrustrated Sessions\" FROM usersession WHERE useraction.application in ('+appsList+') and useraction.name in ('+kuaList+')';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n\n  var str1 = ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) - (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5])).toFixed(2);\n  \n  if ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) > (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5])) \n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1+\" â†—ï¸ğŸŸ¢)\";\n  else if ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) < (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5]))\n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1*(-1)+\" â†˜ï¸ğŸ”´)\";\n  else\n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1+\" =ğŸŸ¡)\";\n}","visualization":"singleValue","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"32":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"36":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"76":{"type":"markdown","title":"","content":"[**Help**](https://github.com/TechShady/Dynatrace-Dashboards-Gen3/blob/main/ReadMeKUAOverview.md#user-guide)"},"122":{"type":"code","title":"","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\n  // Calculate Chart Interval\n  const timeDiff = (endTime-startTime)/3600/1000/24;\n  var chartInterval = \"1m\"\n  if (timeDiff>.5)\n    var chartInterval = \"10m\"\n  if (timeDiff>1)\n    var chartInterval = \"1h\"\n  const usqlQuery = 'SELECT DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") AS \"Date\", PERCENTILE('+$KPI+',50) AS \"50th Percentile\", PERCENTILE('+$KPI+',90) AS \"90th Percentile\", PERCENTILE('+$KPI+',95) AS \"95th Percentile\", PERCENTILE('+$KPI+',99) AS \"99th Percentile\" from useraction WHERE useraction.application in ('+appsList+') and useraction.name in ('+kuaList+') and starttime>='+startTime+' and endtime<='+endTime+' GROUP BY  DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: startTime, endTimestamp: endTime});\n  const sampleCount = response.values.length;\n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n      return {\n        Date: response.values[index][0],\n        '50th Percentile': (response.values[index][2]/1000).toFixed(2),\n        '90th Percentile': (response.values[index][3]/1000).toFixed(2),\n        '95th Percentile': (response.values[index][4]/1000).toFixed(2),\n        '99th Percentile': (response.values[index][5]/1000).toFixed(2)\n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         Date: { type: 'timestamp' },\n          '50th Percentile': { type: 'double' },\n          '90th Percentile': { type: 'double' },\n          '95th Percentile': { type: 'double' },\n          '99th Percentile': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"areaChart","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","colorPalette":"categorical","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"99th Percentile","override":{"color":"#b3007d"}},{"seriesId":"95th Percentile","override":{"color":"#90EE90"}},{"seriesId":"90th Percentile","override":{"color":"#FFEA00"}},{"seriesId":"50th Percentile","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-11-default, #008fdb)","Hover":"var(--dt-colors-charts-categorical-color-11-hover, #0071ad)","Active":"var(--dt-colors-charts-categorical-color-11-active, #005685)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-11-default-transparent, #0074cbcc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-11-hover-transparent, #004e86cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-11-active-transparent, #002940cc)"}}}]},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"124":{"type":"markdown","title":"","content":"# Percentiles Over Time"},"125":{"type":"markdown","title":"","content":"[**ChatGPT**](https://github.com/TechShady/Dynatrace-Dashboards-Gen3/blob/main/KUAOptimization.md)"},"126":{"type":"code","title":"Avg $KPI","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\nconst query = 'SELECT CONDITION (AVG('+$KPI+'),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (AVG('+$KPI+'),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application in ('+appsList+') and name in ('+kuaList+')';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s â†—ï¸ğŸ”´)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s â†˜ï¸ğŸŸ¢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =ğŸŸ¡)\";\n}","visualization":"singleValue","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"127":{"type":"code","title":"Max $KPI","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\nconst query = 'SELECT CONDITION (MAX('+$KPI+'),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (MAX('+$KPI+'),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application in ('+appsList+') and name in ('+kuaList+')';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s â†—ï¸ğŸ”´)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s â†˜ï¸ğŸŸ¢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =ğŸŸ¡)\";\n}","visualization":"singleValue","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"128":{"type":"code","title":"50th Percentile $KPI","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\nconst query = 'SELECT CONDITION (PERCENTILE('+$KPI+',50),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (Percentile('+$KPI+',50),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application in ('+appsList+') and name in ('+kuaList+')';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s â†—ï¸ğŸ”´)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s â†˜ï¸ğŸŸ¢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =ğŸŸ¡)\";\n}","visualization":"singleValue","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"129":{"type":"code","title":"90th Percentile $KPI","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\nconst query = 'SELECT CONDITION (PERCENTILE('+$KPI+',90),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (Percentile('+$KPI+',90),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application in ('+appsList+') and name in ('+kuaList+')';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s â†—ï¸ğŸ”´)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s â†˜ï¸ğŸŸ¢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =ğŸŸ¡)\";\n}","visualization":"singleValue","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"130":{"type":"code","title":"95th Percentile $KPI","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\nconst query = 'SELECT CONDITION (PERCENTILE('+$KPI+',95),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (Percentile('+$KPI+',95),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application in ('+appsList+') and name in ('+kuaList+')';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s â†—ï¸ğŸ”´)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s â†˜ï¸ğŸŸ¢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =ğŸŸ¡)\";\n}","visualization":"singleValue","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"131":{"type":"code","title":"99th Percentile $KPI","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\nconst query = 'SELECT CONDITION (PERCENTILE('+$KPI+',99),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (Percentile('+$KPI+',99),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application in ('+appsList+') and name in ('+kuaList+')';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s â†—ï¸ğŸ”´)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s â†˜ï¸ğŸŸ¢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =ğŸŸ¡)\";\n}","visualization":"singleValue","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"132":{"type":"code","title":"","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const lastXDays = 30;                                         // Big bucket\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\n  const usqlQuery = 'select distinct name as \"User Action\", CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Requests\", CONDITION (PERCENTILE('+$KPI+',50),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"50th Percentile\", CONDITION (PERCENTILE('+$KPI+',50),WHERE starttime>=('+startTime+' - DURATION(\"7d\")) and endtime<=('+endTime+'- DURATION(\"7d\"))) as \"7 Day Shift\", CONDITION (PERCENTILE('+$KPI+',50),WHERE starttime>=('+startTime+' - DURATION(\"14d\")) and endtime<=('+endTime+'- DURATION(\"14d\"))) as \"14 Day Shift\", CONDITION (PERCENTILE('+$KPI+',50),WHERE starttime>=('+startTime+' - DURATION(\"21d\")) and endtime<=('+endTime+'- DURATION(\"21d\"))) as \"21 Day Shift\" from useraction where application in ('+appsList+') and name in ('+kuaList+') order by Requests DESC limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n  const sampleCount = response.values.length;\n  var str7 = \"\";\n  var str14 = \"\";\n  var str21 = \"\";\n  \n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n    if (response.values[index][2]>response.values[index][3]) \n      str7 = ((response.values[index][2]-response.values[index][3])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][3]) \n      str7 = ((response.values[index][2]-response.values[index][3])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str7 = \"0 =ğŸŸ¡\";  \n    if (response.values[index][2]>response.values[index][4]) \n      str14 = ((response.values[index][2]-response.values[index][4])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][4]) \n      str14 = ((response.values[index][2]-response.values[index][4])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str14 = \"0 =ğŸŸ¡\";  \n    if (response.values[index][2]>response.values[index][5]) \n      str21 = ((response.values[index][2]-response.values[index][5])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][5]) \n      str21 = ((response.values[index][2]-response.values[index][5])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str21 = \"0 =ğŸŸ¡\";  \n      return {\n        'Key User Action': response.values[index][0],\n        'Requests': response.values[index][1],\n        '50th Percentile': (response.values[index][2]/1000).toFixed(2),\n        '7 Day Shift': str7,  \n        '14 Day Shift': str14,  \n        '21 Day Shift': str21  \n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         \n          'Key User Action': { type: 'string' },\n          'Requests': { type: 'double' },\n          '50th Percentile': { type: 'double' },\n          '7 Day Shift': { type: 'string' },\n          '14 Day Shift': { type: 'string' },\n          '21 Day Shift': { type: 'string' }\n        },\n      },\n    ],\n  };\n}","visualization":"table","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[["element"]]}}},"133":{"type":"code","title":"","input":"  import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const lastXDays = 30;                                         // Big bucket\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\n  const usqlQuery = 'select distinct name as \"User Action\", CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Requests\", CONDITION (PERCENTILE('+$KPI+',90),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"90th Percentile\", CONDITION (PERCENTILE('+$KPI+',90),WHERE starttime>=('+startTime+' - DURATION(\"7d\")) and endtime<=('+endTime+'- DURATION(\"7d\"))) as \"7 Day Shift\", CONDITION (PERCENTILE('+$KPI+',90),WHERE starttime>=('+startTime+' - DURATION(\"14d\")) and endtime<=('+endTime+'- DURATION(\"14d\"))) as \"14 Day Shift\", CONDITION (PERCENTILE('+$KPI+',90),WHERE starttime>=('+startTime+' - DURATION(\"21d\")) and endtime<=('+endTime+'- DURATION(\"21d\"))) as \"21 Day Shift\" from useraction where application in ('+appsList+') and name in ('+kuaList+') order by Requests DESC limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n  const sampleCount = response.values.length;\n  var str7 = \"\";\n  var str14 = \"\";\n  var str21 = \"\";\n  \n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n    if (response.values[index][2]>response.values[index][3]) \n      str7 = ((response.values[index][2]-response.values[index][3])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][3]) \n      str7 = ((response.values[index][2]-response.values[index][3])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str7 = \"0 =ğŸŸ¡\";  \n    if (response.values[index][2]>response.values[index][4]) \n      str14 = ((response.values[index][2]-response.values[index][4])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][4]) \n      str14 = ((response.values[index][2]-response.values[index][4])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str14 = \"0 =ğŸŸ¡\";  \n    if (response.values[index][2]>response.values[index][5]) \n      str21 = ((response.values[index][2]-response.values[index][5])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][5]) \n      str21 = ((response.values[index][2]-response.values[index][5])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str21 = \"0 =ğŸŸ¡\";  \n      return {\n        'Key User Action': response.values[index][0],\n        'Requests': response.values[index][1],\n        '90th Percentile': (response.values[index][2]/1000).toFixed(2),\n        '7 Day Shift': str7,  \n        '14 Day Shift': str14,  \n        '21 Day Shift': str21  \n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         \n          'Key User Action': { type: 'string' },\n          'Requests': { type: 'double' },\n          '90th Percentile': { type: 'double' },\n          '7 Day Shift': { type: 'string' },\n          '14 Day Shift': { type: 'string' },\n          '21 Day Shift': { type: 'string' }\n        },\n      },\n    ],\n  };\n}\n","visualization":"table","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"134":{"type":"code","title":"","input":"  import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const lastXDays = 30;                                         // Big bucket\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\n  const usqlQuery = 'select distinct name as \"User Action\", CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Requests\", CONDITION (PERCENTILE('+$KPI+',95),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"95th Percentile\", CONDITION (PERCENTILE('+$KPI+',95),WHERE starttime>=('+startTime+' - DURATION(\"7d\")) and endtime<=('+endTime+'- DURATION(\"7d\"))) as \"7 Day Shift\", CONDITION (PERCENTILE('+$KPI+',95),WHERE starttime>=('+startTime+' - DURATION(\"14d\")) and endtime<=('+endTime+'- DURATION(\"14d\"))) as \"14 Day Shift\", CONDITION (PERCENTILE('+$KPI+',95),WHERE starttime>=('+startTime+' - DURATION(\"21d\")) and endtime<=('+endTime+'- DURATION(\"21d\"))) as \"21 Day Shift\" from useraction where application in ('+appsList+') and name in ('+kuaList+') order by Requests DESC limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n  const sampleCount = response.values.length;\n  var str7 = \"\";\n  var str14 = \"\";\n  var str21 = \"\";\n  \n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n    if (response.values[index][2]>response.values[index][3]) \n      str7 = ((response.values[index][2]-response.values[index][3])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][3]) \n      str7 = ((response.values[index][2]-response.values[index][3])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str7 = \"0 =ğŸŸ¡\";  \n    if (response.values[index][2]>response.values[index][4]) \n      str14 = ((response.values[index][2]-response.values[index][4])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][4]) \n      str14 = ((response.values[index][2]-response.values[index][4])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str14 = \"0 =ğŸŸ¡\";  \n    if (response.values[index][2]>response.values[index][5]) \n      str21 = ((response.values[index][2]-response.values[index][5])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][5]) \n      str21 = ((response.values[index][2]-response.values[index][5])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str21 = \"0 =ğŸŸ¡\";  \n      return {\n        'Key User Action': response.values[index][0],\n        'Requests': response.values[index][1],\n        '95th Percentile': (response.values[index][2]/1000).toFixed(2),\n        '7 Day Shift': str7,  \n        '14 Day Shift': str14,  \n        '21 Day Shift': str21  \n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         \n          'Key User Action': { type: 'string' },\n          'Requests': { type: 'double' },\n          '95th Percentile': { type: 'double' },\n          '7 Day Shift': { type: 'string' },\n          '14 Day Shift': { type: 'string' },\n          '21 Day Shift': { type: 'string' }\n        },\n      },\n    ],\n  };\n}\n","visualization":"table","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"135":{"type":"code","title":"","input":"  import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const lastXDays = 30;                                         // Big bucket\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\n  const usqlQuery = 'select distinct name as \"User Action\", CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Requests\", CONDITION (PERCENTILE('+$KPI+',99),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"99th Percentile\", CONDITION (PERCENTILE('+$KPI+',99),WHERE starttime>=('+startTime+' - DURATION(\"7d\")) and endtime<=('+endTime+'- DURATION(\"7d\"))) as \"7 Day Shift\", CONDITION (PERCENTILE('+$KPI+',99),WHERE starttime>=('+startTime+' - DURATION(\"14d\")) and endtime<=('+endTime+'- DURATION(\"14d\"))) as \"14 Day Shift\", CONDITION (PERCENTILE('+$KPI+',99),WHERE starttime>=('+startTime+' - DURATION(\"21d\")) and endtime<=('+endTime+'- DURATION(\"21d\"))) as \"21 Day Shift\" from useraction where application in ('+appsList+') and name in ('+kuaList+') order by Requests DESC limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n  const sampleCount = response.values.length;\n  var str7 = \"\";\n  var str14 = \"\";\n  var str21 = \"\";\n  \n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n    if (response.values[index][2]>response.values[index][3]) \n      str7 = ((response.values[index][2]-response.values[index][3])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][3]) \n      str7 = ((response.values[index][2]-response.values[index][3])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str7 = \"0 =ğŸŸ¡\";  \n    if (response.values[index][2]>response.values[index][4]) \n      str14 = ((response.values[index][2]-response.values[index][4])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][4]) \n      str14 = ((response.values[index][2]-response.values[index][4])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str14 = \"0 =ğŸŸ¡\";  \n    if (response.values[index][2]>response.values[index][5]) \n      str21 = ((response.values[index][2]-response.values[index][5])/1000).toFixed(2)+\" â†—ï¸ğŸ”´\";  \n    else if (response.values[index][2]<response.values[index][5]) \n      str21 = ((response.values[index][2]-response.values[index][5])*(-1)/1000).toFixed(2)+\" â†˜ï¸ğŸŸ¢\";  \n    else\n      str21 = \"0 =ğŸŸ¡\";  \n      return {\n        'Key User Action': response.values[index][0],\n        'Requests': response.values[index][1],\n        '99th Percentile': (response.values[index][2]/1000).toFixed(2),\n        '7 Day Shift': str7,  \n        '14 Day Shift': str14,  \n        '21 Day Shift': str21  \n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         \n          'Key User Action': { type: 'string' },\n          'Requests': { type: 'double' },\n          '99th Percentile': { type: 'double' },\n          '7 Day Shift': { type: 'string' },\n          '14 Day Shift': { type: 'string' },\n          '21 Day Shift': { type: 'string' }\n        },\n      },\n    ],\n  };\n}\n","visualization":"table","visualizationSettings":{"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"136":{"type":"code","title":"","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var kuaList = \"\\\"\"+$KeyUserAction[0].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  let k = 1;\n  // Build KUA List\n  while (k < 10) {\n    if ($KeyUserAction[k]==null) break;\n    kuaList = kuaList+\",\\\"\"+$KeyUserAction[k].replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n    k++;\n  }\n  // Calculate Chart Interval\n  const timeDiff = (endTime-startTime)/3600/1000/24;\n  var chartInterval = \"1m\"\n  if (timeDiff>.5)\n    var chartInterval = \"10m\"\n  if (timeDiff>1)\n    var chartInterval = \"1h\"\n  const usqlQuery = 'SELECT DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") AS \"Date\", count(*) from useraction WHERE useraction.application in ('+appsList+') and useraction.name in ('+kuaList+') and starttime>='+startTime+' and endtime<='+endTime+' GROUP BY  DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: startTime, endTimestamp: endTime});\n  const sampleCount = response.values.length;\n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n      return {\n        Date: response.values[index][0],\n        'Traffic': response.values[index][1]\n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         Date: { type: 'timestamp' },\n          'Traffic': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"areaChart","visualizationSettings":{"chartSettings":{"gapPolicy":"connect","colorPalette":"categorical","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"99th Percentile","override":{"color":"#b3007d"}},{"seriesId":"95th Percentile","override":{"color":"#90EE90"}},{"seriesId":"90th Percentile","override":{"color":"#FFEA00"}},{"seriesId":"50th Percentile","override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-11-default, #008fdb)","Hover":"var(--dt-colors-charts-categorical-color-11-hover, #0071ad)","Active":"var(--dt-colors-charts-categorical-color-11-active, #005685)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-11-default-transparent, #0074cbcc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-11-hover-transparent, #004e86cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-11-active-transparent, #002940cc)"}}}]},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"137":{"type":"markdown","title":"","content":"# Traffic"}},"layouts":{"5":{"x":0,"y":3,"w":24,"h":1},"8":{"x":0,"y":0,"w":24,"h":1},"9":{"x":0,"y":1,"w":9,"h":2},"23":{"x":21,"y":1,"w":2,"h":2},"32":{"x":0,"y":12,"w":24,"h":1},"36":{"x":0,"y":25,"w":20,"h":1},"76":{"x":22,"y":25,"w":2,"h":1},"122":{"x":1,"y":14,"w":22,"h":5},"124":{"x":0,"y":13,"w":23,"h":1},"125":{"x":20,"y":25,"w":2,"h":1},"126":{"x":9,"y":1,"w":2,"h":2},"127":{"x":11,"y":1,"w":2,"h":2},"128":{"x":13,"y":1,"w":2,"h":2},"129":{"x":15,"y":1,"w":2,"h":2},"130":{"x":17,"y":1,"w":2,"h":2},"131":{"x":19,"y":1,"w":2,"h":2},"132":{"x":1,"y":4,"w":11,"h":4},"133":{"x":12,"y":4,"w":11,"h":4},"134":{"x":1,"y":8,"w":11,"h":4},"135":{"x":12,"y":8,"w":11,"h":4},"136":{"x":1,"y":20,"w":22,"h":5},"137":{"x":0,"y":19,"w":23,"h":1}}}