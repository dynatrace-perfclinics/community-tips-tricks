{"version":11,"variables":[],"tiles":{"33":{"type":"code","title":"Closed Problems","input":"import { problemsClient } from '@dynatrace-sdk/client-classic-environment-v2';\n\nasync function getProblemsList() {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const response = await problemsClient.getProblems({\n   //from: 'now-7d', problemSelector: 'managementZones(\"EasyTrade\")'\n    from: startTime,to: endTime, problemSelector: \"status(Closed)\"\n    //from: 'now-7d', problemSelector: \"status(Open)\"\n  });\n  const result = await response;\n // console.log(result.problems);\n  return result.problems;\n}\n\nfunction expandArray(array) {\n  if (array.length == 1) {\n    return array[0].name;\n  } else if (array.length > 1) {\n    var retVal = \"\"\n    for (let i=0;i<array.length;i++) {\n      if (i!=0) {\n        retVal = retVal + \", \" + array[i].name;\n      } else {\n        retVal = array[i].name;\n      }\n    }\n    return retVal;\n  }\n  return \"\"; \n}\n\nexport default async function () {\n  const response = await getProblemsList();\n  //console.log(response);\n  const problems=response;\n  const types = [{\n      mappings: {\n        startTime: {type: 'timestamp'},\n        status: {type: 'string'},\n        displayId: {type: 'string'},\n        title: {type: 'string'},\n        impactLevel: {type: 'string'},\n        severityLevel: {type: 'string'},\n        affectedEntities: {type: 'string'},\n        duration: {type: 'double'},\n        impactedEntities: {type: 'string'},\n        rootCauseEntity: {type: 'string'},\n        \"event.id\": {type: 'string'},\n        endTime: {type: 'timestamp'}\n        },\n        indexRange: [\n        0,\n        problems.length\n      ]\n  }]\n  //console.log(types);\n  // Create a new empty data frame for the result\n  const dataFrame = {\n    records: [],\n    types: types\n  }\n  \n  for(let i=0; i<problems.length; i++) {\n      const problem = problems[i];\n      var duration = \"\";\n      if (problem.endTime == null || problem.endTime == \"\" || problem.endTime < 0) {\n        duration = Math.round(((Date.now() - problem.startTime)/1000)/60);\n      } else {\n        duration = Math.round(((problem.endTime-problem.startTime)/1000)/60);\n      }\n      var pstatus = \"\";\n      if (problem.status == 'OPEN') {\n        pstatus = \"ðŸ”´ OPEN\";\n      } else {\n        pstatus = 'ðŸŸ¢ CLOSED';\n      }\n      var affectedEntities = expandArray(problem.affectedEntities);\n      var impactedEntities = expandArray(problem.impactedEntities);\n      var rootCause = \"\";\n      if (problem.rootCauseEntity == null) {\n        rootCause = \"\"\n      } else {\n        rootCause = problem.rootCauseEntity[\"name\"];\n      }\n       const record = {\n              startTime: problem.startTime,\n              status: pstatus,\n              displayId: problem.displayId,\n              title: problem.title,\n              impactLevel: problem.impactLevel,\n              severityLevel: problem.severityLevel,\n              affectedEntities: affectedEntities,\n              impactedEntities: impactedEntities,\n              rootCauseEntity: rootCause,\n              duration: duration,\n              \"event.id\": problem.problemId,\n              endTime: problem.endTime\n            }\n        dataFrame.records.push(record);\n    }\n  //console.log(dataFrame);\n  return dataFrame;\n}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[["impactLevel"],["severityLevel"],["affectedEntities"],["rootCauseEntity"],["event.id"],["status"],["endTime"]],"lineWrapIds":[["affectedEntities"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["impactLevel"],["endTime"]],"firstVisibleRowIndex":0}},"visualization":"table"},"38":{"type":"code","title":"Problem MTTR (Minutes)","input":"import { problemsClient } from '@dynatrace-sdk/client-classic-environment-v2';\n\nasync function getProblemsList() {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const response = await problemsClient.getProblems({\n   //from: 'now-7d', problemSelector: 'managementZones(\"EasyTrade\")'\n    from: startTime,to: endTime, problemSelector: \"status(Closed)\"\n    //from: 'now-7d', problemSelector: \"status(Open)\"\n  });\n  const result = await response;\n // console.log(result.problems);\n  return result.problems;\n}\n\nfunction expandArray(array) {\n  if (array.length == 1) {\n    return array[0].name;\n  } else if (array.length > 1) {\n    var retVal = \"\"\n    for (let i=0;i<array.length;i++) {\n      if (i!=0) {\n        retVal = retVal + \", \" + array[i].name;\n      } else {\n        retVal = array[i].name;\n      }\n    }\n    return retVal;\n  }\n  return \"\"; \n}\n\nexport default async function () {\n  const response = await getProblemsList();\n  //console.log(response);\n  const problems=response;\n  const types = [{\n      mappings: {\n        startTime: {type: 'timestamp'},\n        status: {type: 'string'},\n        displayId: {type: 'string'},\n        title: {type: 'string'},\n        impactLevel: {type: 'string'},\n        severityLevel: {type: 'string'},\n        affectedEntities: {type: 'string'},\n        impactedEntities: {type: 'string'},\n        rootCauseEntity: {type: 'string'},\n        duration: {type: 'double'},\n        \"event.id\": {type: 'string'},\n        endTime: {type: 'timestamp'}\n        },\n        indexRange: [\n        0,\n        problems.length\n      ]\n  }]\n  //console.log(types);\n  // Create a new empty data frame for the result\n  const dataFrame = {\n    records: [],\n    types: types\n  }\n  var mttr = 0;\n  for(let i=0; i<problems.length; i++) {\n      const problem = problems[i];\n      var duration = \"\";\n      if (problem.endTime == null || problem.endTime == \"\" || problem.endTime < 0) {\n        duration = Math.round(((Date.now() - problem.startTime)/1000)/60);\n      } else {\n        duration = Math.round(((problem.endTime-problem.startTime)/1000)/60);\n      }\n      mttr = mttr + duration;\n      var pstatus = \"\";\n      if (problem.status == 'OPEN') {\n        pstatus = \"ðŸ”´ OPEN\";\n      } else {\n        pstatus = 'ðŸŸ¢ CLOSED';\n      }\n      var affectedEntities = expandArray(problem.affectedEntities);\n      var impactedEntities = expandArray(problem.impactedEntities);\n      var rootCause = \"\";\n      if (problem.rootCauseEntity == null) {\n        rootCause = \"\"\n      } else {\n        rootCause = problem.rootCauseEntity[\"name\"];\n      }\n       const record = {\n              startTime: problem.startTime,\n              status: pstatus,\n              displayId: problem.displayId,\n              title: problem.title,\n              impactLevel: problem.impactLevel,\n              severityLevel: problem.severityLevel,\n              affectedEntities: affectedEntities,\n              impactedEntities: impactedEntities,\n              rootCauseEntity: rootCause,\n              duration: duration,\n              \"event.id\": problem.problemId,\n              endTime: problem.endTime\n            }\n        dataFrame.records.push(record);\n    }\n  //console.log(dataFrame);\n//  return dataFrame;\n  return mttr/problems.length;\n}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"MTTR","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[["severityLevel"],["affectedEntities"],["impactedEntities"],["rootCauseEntity"],["event.id"]],"lineWrapIds":[["affectedEntities"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["impactLevel"],["endTime"]],"firstVisibleRowIndex":0}},"visualization":"singleValue"},"42":{"type":"markdown","title":"","content":"![](data:image/webp;base64,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)"},"43":{"type":"markdown","title":"","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"44":{"type":"markdown","title":"","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"45":{"type":"markdown","title":"","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"46":{"type":"markdown","title":"","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"47":{"type":"code","title":"Open Problems","input":"import { problemsClient } from '@dynatrace-sdk/client-classic-environment-v2';\n\nasync function getProblemsList() {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const response = await problemsClient.getProblems({\n   //from: 'now-7d', problemSelector: 'managementZones(\"EasyTrade\")'\n    from: startTime,to: endTime, problemSelector: \"status(Open)\"\n    //from: 'now-7d', problemSelector: \"status(Open)\"\n  });\n  const result = await response;\n // console.log(result.problems);\n  return result.problems;\n}\n\nfunction expandArray(array) {\n  if (array.length == 1) {\n    return array[0].name;\n  } else if (array.length > 1) {\n    var retVal = \"\"\n    for (let i=0;i<array.length;i++) {\n      if (i!=0) {\n        retVal = retVal + \", \" + array[i].name;\n      } else {\n        retVal = array[i].name;\n      }\n    }\n    return retVal;\n  }\n  return \"\"; \n}\n\nexport default async function () {\n  const response = await getProblemsList();\n  //console.log(response);\n  const problems=response;\n  const types = [{\n      mappings: {\n        startTime: {type: 'timestamp'},\n        status: {type: 'string'},\n        displayId: {type: 'string'},\n        title: {type: 'string'},\n        impactLevel: {type: 'string'},\n        severityLevel: {type: 'string'},\n        affectedEntities: {type: 'string'},\n        duration: {type: 'double'},\n        impactedEntities: {type: 'string'},\n        rootCauseEntity: {type: 'string'},\n        \"event.id\": {type: 'string'},\n        endTime: {type: 'timestamp'}\n        },\n        indexRange: [\n        0,\n        problems.length\n      ]\n  }]\n  //console.log(types);\n  // Create a new empty data frame for the result\n  const dataFrame = {\n    records: [],\n    types: types\n  }\n  \n  for(let i=0; i<problems.length; i++) {\n      const problem = problems[i];\n      var duration = \"\";\n      if (problem.endTime == null || problem.endTime == \"\" || problem.endTime < 0) {\n        duration = Math.round(((Date.now() - problem.startTime)/1000)/60);\n      } else {\n        duration = Math.round(((problem.endTime-problem.startTime)/1000)/60);\n      }\n      var pstatus = \"\";\n      if (problem.status == 'OPEN') {\n        pstatus = \"ðŸ”´ OPEN\";\n      } else {\n        pstatus = 'ðŸŸ¢ CLOSED';\n      }\n      var affectedEntities = expandArray(problem.affectedEntities);\n      var impactedEntities = expandArray(problem.impactedEntities);\n      var rootCause = \"\";\n      if (problem.rootCauseEntity == null) {\n        rootCause = \"\"\n      } else {\n        rootCause = problem.rootCauseEntity[\"name\"];\n      }\n       const record = {\n              startTime: problem.startTime,\n              status: pstatus,\n              displayId: problem.displayId,\n              title: problem.title,\n              impactLevel: problem.impactLevel,\n              severityLevel: problem.severityLevel,\n              affectedEntities: affectedEntities,\n              impactedEntities: impactedEntities,\n              rootCauseEntity: rootCause,\n              duration: duration,\n              \"event.id\": problem.problemId,\n              endTime: problem.endTime\n            }\n        dataFrame.records.push(record);\n    }\n  //console.log(dataFrame);\n  return dataFrame;\n}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[["severityLevel"],["affectedEntities"],["rootCauseEntity"],["event.id"],["status"],["endTime"],["impactLevel"]],"lineWrapIds":[["affectedEntities"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["impactLevel"],["endTime"]],"firstVisibleRowIndex":0}},"visualization":"table"},"49":{"type":"data","title":"Problem Count","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to\n| filter event.kind == \"DAVIS_PROBLEM\" \n| summarize {activeEvents = countDistinct(event.id)}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"columnWidths":{},"lineWrapIds":[["affected_entity_ids"]],"enableLineWrap":true}},"visualization":"singleValue"},"51":{"type":"data","title":"Problems by Event","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to \n| filter matchesValue(event.kind, \"DAVIS_PROBLEM\")\n| summarize count = countDistinct(display_id), by:{event.name}\n| sort count, direction:\"descending\"","visualization":"pieChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"legend":{"position":"right","hidden":false}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"53":{"type":"data","title":"Closed Problem Count","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to\n| filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(event.status,\"CLOSED\")\n| summarize {activeEvents = countDistinct(event.id)}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"columnWidths":{},"lineWrapIds":[["affected_entity_ids"]],"enableLineWrap":true}},"visualization":"singleValue"},"54":{"type":"data","title":"Problem Count","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to\n| filter event.kind == \"DAVIS_PROBLEM\"\n| summarize {activeEvents = countDistinct(event.id), by: {`10m interval` = bin(timestamp, 10m)}}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"seriesOverrides":[{"seriesId":["activeEvents"],"override":{"color":{"Default":"var(--dt-colors-charts-vulnerability-risk-level-critical-default, #970c0c)","Hover":"var(--dt-colors-charts-vulnerability-risk-level-critical-hover, #750b0b)","Active":"var(--dt-colors-charts-vulnerability-risk-level-critical-active, #4b0707)","DefaultTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-default-transparent, #591300cc)","HoverTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-hover-transparent, #000c)","ActiveTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-active-transparent, #000c)"}}}],"legend":{"hidden":true}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"columnWidths":{},"lineWrapIds":[["affected_entity_ids"]],"enableLineWrap":true}},"visualization":"areaChart"},"55":{"type":"data","title":"Closed Problems by Event","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to \n| filter matchesValue(event.kind, \"DAVIS_PROBLEM\") and matchesValue(event.status,\"CLOSED\")\n| summarize count = countDistinct(display_id), by:{event.name}\n| sort count, direction:\"descending\"","visualization":"pieChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute","hideLabels":true},"legend":{"position":"right","hidden":false}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"56":{"type":"data","title":"Top Problems by Event","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to\n| filter event.kind == \"DAVIS_PROBLEM\"\n| summarize by:{event.name}, count = countDistinct(display_id)\n| sort count, direction:\"descending\"\n| limit 10","visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoricalBarChartSettings":{"categoryAxis":"event.name","categoryAxisLabel":"Event","valueAxis":"count","valueAxisLabel":"Count","layout":"horizontal","scale":"absolute"},"colorPalette":"vulnerability-risk-level","legend":{"hidden":true}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}}},"layouts":{"33":{"x":12,"y":18,"w":12,"h":6},"38":{"x":20,"y":1,"w":4,"h":2},"42":{"x":0,"y":1,"w":12,"h":2},"43":{"x":0,"y":0,"w":24,"h":1},"44":{"x":0,"y":3,"w":24,"h":1},"45":{"x":0,"y":24,"w":24,"h":1},"46":{"x":0,"y":17,"w":24,"h":1},"47":{"x":0,"y":18,"w":12,"h":6},"49":{"x":12,"y":1,"w":4,"h":2},"51":{"x":0,"y":4,"w":8,"h":7},"53":{"x":16,"y":1,"w":4,"h":2},"54":{"x":0,"y":11,"w":24,"h":6},"55":{"x":16,"y":4,"w":8,"h":7},"56":{"x":8,"y":4,"w":8,"h":7}},"refreshRate":0}