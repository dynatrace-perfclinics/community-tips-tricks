{"version":11,"variables":[{"key":"AppName","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n const lastXDays = 30;\n const usqlQuery = 'SELECT DISTINCT application FROM useraction where matchingconversiongoals is not null';\n const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n const sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n}","multiple":false},{"key":"ConversionGoal","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n  const lastXDays = 30;\n  const usqlQuery = 'select stringProperties FROM usersession where useraction.application=\"www.angular.easytravel.com\"';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n  let arr = [];\n  (response.values).forEach(e2 => {\n    (e2).forEach(e3 => {\n      (e3).forEach(e => {\n        arr.push(e.key);\n      });\n    });\n  });\n  return( arr)\n}","multiple":false},{"key":"KPI","type":"csv","input":"Duration,VisuallyCompleteTime,SpeedIndex,LoadEventEnd,FirstInputDelay,CumulativeLayoutShift,LargestContentfulPaint,CdnBusyTime,CdnResources,DocumentInteractiveTime,DomCompleteTime,DomContentLoadedTime,FirstPartyBusyTime,FirstPartyResources,FrontendTime,LoadEventStart,NavigationStart,NetworkTime,RequestStart,ResponseEnd,ResponseStart,ServerTime,ThirdPartyBusyTime,ThirdPartyResources","multiple":false},{"key":"Aggregate","type":"csv","input":"Avg,Median","multiple":false},{"key":"KeyUserAction","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n   const usqlQuery = 'SELECT DISTINCT name,count(*) FROM useraction WHERE keyuseraction is true order by count(*) desc';\n const lastXDays = 30;\n const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n\nconst sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n//        flat = flat.concat(arr[i]);\nflat = flat.concat(arr[i][0].replace(/\"/g, \"\\\\\\\"\"));\n    }\n    return flat;\n}\n return( flatten(response.values))\n\n}","multiple":false},{"key":"AvgOrderValue","type":"csv","input":"100,200,300,400,500,600,700,800,900,1000,495","multiple":false},{"key":"kpiLimit","type":"csv","input":"3,4,5,6,7,8,9,10,11,12","multiple":false}],"tiles":{"8":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"9":{"type":"markdown","title":"","content":"![](data:image/webp;base64,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)"},"18":{"type":"code","title":"Conversion Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var kuaList = \"\\\"\"+$KeyUserAction.replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  var appsList = \"\\\"\"+$AppName.replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  const convName = $ConversionGoal;\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Current Sessions\", CONDITION (count(*),WHERE usersession.stringProperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime+') as \"Current Conversions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\" and starttime>='+startTime+' and endtime<='+endTime;\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  return \" \"+(result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% \";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"23":{"type":"code","title":"Apdex","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var kuaList = \"\\\"\"+$KeyUserAction.replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  var appsList = \"\\\"\"+$AppName.replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  const query = 'SELECT CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CSatisfied Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CTolerated Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CFrustrated Sessions\" FROM usersession WHERE useraction.application in ('+appsList+') and useraction.name in ('+kuaList+')';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2);\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"36":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"74":{"type":"code","title":"$Aggregate $KPI","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var kuaList = \"\\\"\"+$KeyUserAction.replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  var appsList = \"\\\"\"+$AppName.replace(/\"/g, \"\\\"\\\"\")+\"\\\"\";\n  const query = 'SELECT AVG('+$KPI+') FROM useraction WHERE useraction.application in ('+appsList+') and name in ('+kuaList+') and starttime>='+startTime+' and endtime<='+endTime;\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  return (result[\"values\"][0][0]/1000).toFixed(2)+\"s\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"76":{"type":"markdown","title":"","content":"[**Help**](https://github.com/dynatrace-perfclinics/community-tips-tricks/blob/main/ep19/ReadMePerformanceConversionAnalysisKUA.md#user-guide)"},"122":{"type":"code","title":"Conversion Trend by \"$KeyUserAction\" Performance Increase","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n\n  const usqlQuery1 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>3000 and '+$KPI+'<=4000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery2 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>3000 and '+$KPI+'<=4000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery3 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>4000 and '+$KPI+'<=5000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery4 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>4000 and '+$KPI+'<=5000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery5 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>5000 and '+$KPI+'<=6000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery6 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>5000 and '+$KPI+'<=6000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery7 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>6000 and '+$KPI+'<=7000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery8 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>6000 and '+$KPI+'<=7000 and starttime>='+startTime+' and endtime<='+endTime;  \n  const usqlQuery9 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>7000 and '+$KPI+'<=8000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery10 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>7000 and '+$KPI+'<=8000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery11 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>8000 and '+$KPI+'<=9000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery12 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>8000 and '+$KPI+'<=9000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery13 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>9000 and '+$KPI+'<=10000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery14 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>9000 and '+$KPI+'<=10000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery15 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>10000 and '+$KPI+'<=11000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery16 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>10000 and '+$KPI+'<=11000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery17 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>11000 and '+$KPI+'<=12000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery18 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>11000 and '+$KPI+'<=12000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery19 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>12000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery20 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>12000 and starttime>='+startTime+' and endtime<='+endTime;\n  const response1 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery1,startTimestamp: startTime, endTimestamp: endTime });\n  const response2 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery2,startTimestamp: startTime, endTimestamp: endTime });\n  const response3 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery3,startTimestamp: startTime, endTimestamp: endTime });\n  const response4 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery4,startTimestamp: startTime, endTimestamp: endTime });\n  const response5 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery5,startTimestamp: startTime, endTimestamp: endTime });\n  const response6 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery6,startTimestamp: startTime, endTimestamp: endTime });\n  const response7 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery7,startTimestamp: startTime, endTimestamp: endTime });\n  const response8 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery8,startTimestamp: startTime, endTimestamp: endTime });\n  const response9 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery9,startTimestamp: startTime, endTimestamp: endTime });\n  const response10 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery10,startTimestamp: startTime, endTimestamp: endTime });\n  const response11 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery11,startTimestamp: startTime, endTimestamp: endTime });\n  const response12 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery12,startTimestamp: startTime, endTimestamp: endTime });\n  const response13 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery13,startTimestamp: startTime, endTimestamp: endTime });\n  const response14 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery14,startTimestamp: startTime, endTimestamp: endTime });\n  const response15 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery15,startTimestamp: startTime, endTimestamp: endTime });\n  const response16 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery16,startTimestamp: startTime, endTimestamp: endTime });\n  const response17 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery17,startTimestamp: startTime, endTimestamp: endTime });\n  const response18 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery18,startTimestamp: startTime, endTimestamp: endTime });\n  const response19 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery19,startTimestamp: startTime, endTimestamp: endTime });\n  const response20 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery20,startTimestamp: startTime, endTimestamp: endTime });\n\nreturn {\n    records: [\n     {\n        'Bucket': \"3s-4s\",\n        'CR': response1[\"values\"][0][0]/response2[\"values\"][0][0]*100\n},\n  {      'Bucket': \"4s-5s\",\n        'CR': response3[\"values\"][0][0]/response4[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"5s-6s\",\n        'CR': response5[\"values\"][0][0]/response6[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"6s-7s\",\n        'CR': response7[\"values\"][0][0]/response8[\"values\"][0][0]*100\n      },\n     {\n        'Bucket': \"7s-8s\",\n        'CR': response9[\"values\"][0][0]/response10[\"values\"][0][0]*100\n},\n  {      'Bucket': \"8s-9s\",\n        'CR': response11[\"values\"][0][0]/response12[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"9s-10s\",\n        'CR': response13[\"values\"][0][0]/response14[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"10s-11s\",\n        'CR': response15[\"values\"][0][0]/response16[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"11s-12s\",\n        'CR': response17[\"values\"][0][0]/response18[\"values\"][0][0]*100\n      },\n  {      'Bucket': \">12s\",\n        'CR': response19[\"values\"][0][0]/response20[\"values\"][0][0]*100\n      },\n],\n    types: [\n      {\n        indexRange: [0, 2],\n        mappings: {\n          'Bucket': { type: 'string' },\n          'CR': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","colorPalette":"apdex","legend":{"hidden":true},"categoricalBarChartSettings":{"categoryAxis":"Bucket","categoryAxisLabel":"Performance Grouping","valueAxis":"CR","valueAxisLabel":"Conversion Rate","scale":"absolute","min":null,"max":null}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":false,"lineWrapIds":[]}}},"136":{"type":"code","title":"Site Exit Trend by \"$KeyUserAction\" Performance Increase","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n \n  const usqlQuery1 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>3000 and '+$KPI+'<=4000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery2 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>3000 and '+$KPI+'<=4000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery3 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>4000 and '+$KPI+'<=5000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery4 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>4000 and '+$KPI+'<=5000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery5 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>5000 and '+$KPI+'<=6000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery6 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>5000 and '+$KPI+'<=6000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery7 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>6000 and '+$KPI+'<=7000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery8 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>6000 and '+$KPI+'<=7000 and starttime>='+startTime+' and endtime<='+endTime;  \n  const usqlQuery9 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>7000 and '+$KPI+'<=8000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery10 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>7000 and '+$KPI+'<=8000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery11 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>8000 and '+$KPI+'<=9000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery12 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>8000 and '+$KPI+'<=9000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery13 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>9000 and '+$KPI+'<=10000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery14 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>9000 and '+$KPI+'<=10000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery15 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>10000 and '+$KPI+'<=11000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery16 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>10000 and '+$KPI+'<=11000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery17 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>11000 and '+$KPI+'<=12000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery18 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>11000 and '+$KPI+'<=12000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery19 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>12000 and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery20 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>12000 and starttime>='+startTime+' and endtime<='+endTime;\n  const response1 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery1,startTimestamp: startTime, endTimestamp: endTime });\n  const response2 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery2,startTimestamp: startTime, endTimestamp: endTime });\n  const response3 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery3,startTimestamp: startTime, endTimestamp: endTime });\n  const response4 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery4,startTimestamp: startTime, endTimestamp: endTime });\n  const response5 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery5,startTimestamp: startTime, endTimestamp: endTime });\n  const response6 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery6,startTimestamp: startTime, endTimestamp: endTime });\n  const response7 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery7,startTimestamp: startTime, endTimestamp: endTime });\n  const response8 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery8,startTimestamp: startTime, endTimestamp: endTime });\n  const response9 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery9,startTimestamp: startTime, endTimestamp: endTime });\n  const response10 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery10,startTimestamp: startTime, endTimestamp: endTime });\n  const response11 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery11,startTimestamp: startTime, endTimestamp: endTime });\n  const response12 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery12,startTimestamp: startTime, endTimestamp: endTime });\n  const response13 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery13,startTimestamp: startTime, endTimestamp: endTime });\n  const response14 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery14,startTimestamp: startTime, endTimestamp: endTime });\n  const response15 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery15,startTimestamp: startTime, endTimestamp: endTime });\n  const response16 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery16,startTimestamp: startTime, endTimestamp: endTime });\n  const response17 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery17,startTimestamp: startTime, endTimestamp: endTime });\n  const response18 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery18,startTimestamp: startTime, endTimestamp: endTime });\n  const response19 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery19,startTimestamp: startTime, endTimestamp: endTime });\n  const response20 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery20,startTimestamp: startTime, endTimestamp: endTime });\n\nreturn {\n    records: [\n     {\n        'Bucket': \"3s-4s\",\n        'CR': response1[\"values\"][0][0]/response2[\"values\"][0][0]*100\n},\n  {      'Bucket': \"4s-5s\",\n        'CR': response3[\"values\"][0][0]/response4[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"5s-6s\",\n        'CR': response5[\"values\"][0][0]/response6[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"6s-7s\",\n        'CR': response7[\"values\"][0][0]/response8[\"values\"][0][0]*100\n      },\n     {\n        'Bucket': \"7s-8s\",\n        'CR': response9[\"values\"][0][0]/response10[\"values\"][0][0]*100\n},\n  {      'Bucket': \"8s-9s\",\n        'CR': response11[\"values\"][0][0]/response12[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"9s-10s\",\n        'CR': response13[\"values\"][0][0]/response14[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"10s-11s\",\n        'CR': response15[\"values\"][0][0]/response16[\"values\"][0][0]*100\n      },\n  {      'Bucket': \"11s-12s\",\n        'CR': response17[\"values\"][0][0]/response18[\"values\"][0][0]*100\n      },\n  {      'Bucket': \">12s\",\n        'CR': response19[\"values\"][0][0]/response20[\"values\"][0][0]*100\n      },\n],\n    types: [\n      {\n        indexRange: [0, 2],\n        mappings: {\n          'Bucket': { type: 'string' },\n          'CR': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","colorPalette":"apdex","legend":{"hidden":true},"categoricalBarChartSettings":{"categoryAxis":"Bucket","categoryAxisLabel":"Performance Grouping","valueAxis":"CR","valueAxisLabel":"Exit Rate"}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":false,"lineWrapIds":[]}}},"140":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"144":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"145":{"type":"code","title":"Projected Conversion Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var query1 = 'SELECT count(distinct usersession.usersessionid) FROM useraction WHERE application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is null and useraction.'+$KPI+'>(1000*'+$kpiLimit+') and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  var query2 = 'SELECT AVG(useraction.'+$KPI+'),count(distinct usersession.usersessionid) FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime;\n  var query3 = 'SELECT AVG(useraction.'+$KPI+'),count(distinct usersession.usersessionid) FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is null and useraction.'+$KPI+'>(1000*'+$kpiLimit+') and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  var query4 = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Current Sessions\", CONDITION (count(*),WHERE usersession.stringProperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime+') as \"Current Conversions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\" and starttime>='+startTime+' and endtime<='+endTime;  \nexport default async function () {\n  const result1 = await rumUserSessionsClient.getUsqlResultAsTable({query: query1, startTimestamp: startTime, endTimestamp: endTime});\n  const result2 = await rumUserSessionsClient.getUsqlResultAsTable({query: query2, startTimestamp: startTime, endTimestamp: endTime});\n  const result3 = await rumUserSessionsClient.getUsqlResultAsTable({query: query3, startTimestamp: startTime, endTimestamp: endTime});\n  const result4 = await rumUserSessionsClient.getUsqlResultAsTable({query: query4, startTimestamp: startTime, endTimestamp: endTime});\n  var victims = result1[\"values\"][0][0];\n  var sessions = result4[\"values\"][0][0];\n  var conversions = result4[\"values\"][0][1];\n  var ckpi = result2[\"values\"][0][0];\n  var akpi = result3[\"values\"][0][0];\n  var pconversions = (victims)*(conversions/sessions);\n  return \" \"+(((conversions+pconversions)/sessions)*100).toFixed(2)+\"% \";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"146":{"type":"code","title":"Projected Annualized Impact","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var query1 = 'SELECT count(distinct usersession.usersessionid) FROM useraction WHERE application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is null and useraction.'+$KPI+'>(1000*'+$kpiLimit+') and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  var query2 = 'SELECT AVG(useraction.'+$KPI+'),count(distinct usersession.usersessionid) FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime;\n  var query3 = 'SELECT AVG(useraction.'+$KPI+'),count(distinct usersession.usersessionid) FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is null and useraction.'+$KPI+'>(1000*'+$kpiLimit+') and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  var query4 = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Current Sessions\", CONDITION (count(*),WHERE usersession.stringProperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime+') as \"Current Conversions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\" and starttime>='+startTime+' and endtime<='+endTime;  \n\nexport default async function () {\n  const result1 = await rumUserSessionsClient.getUsqlResultAsTable({query: query1, startTimestamp: startTime, endTimestamp: endTime});\n  const result2 = await rumUserSessionsClient.getUsqlResultAsTable({query: query2, startTimestamp: startTime, endTimestamp: endTime});\n  const result3 = await rumUserSessionsClient.getUsqlResultAsTable({query: query3, startTimestamp: startTime, endTimestamp: endTime});\n  const result4 = await rumUserSessionsClient.getUsqlResultAsTable({query: query4, startTimestamp: startTime, endTimestamp: endTime});\n  var victims = result1[\"values\"][0][0];\n  var sessions = result4[\"values\"][0][0];\n  var conversions = result4[\"values\"][0][1];\n  var ckpi = result2[\"values\"][0][0];\n  var akpi = result3[\"values\"][0][0];\n  var pconversions = (victims)*(conversions/sessions);\n  return \"$\"+Intl.NumberFormat().format((pconversions*$AvgOrderValue*365/((endTime - startTime)/24/60/60/1000)).toFixed(2));    \n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"147":{"type":"code","title":"Conversion and Abandon $Aggregate $KPI for \"$KeyUserAction\"","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  // Calculate Chart Interval\n  const timeDiff = (endTime-startTime)/3600/1000/24;\n  var chartInterval = \"1m\"\n  if (timeDiff>.5)\n    var chartInterval = \"10m\"\n  if (timeDiff>1)\n    var chartInterval = \"1h\"\n  const usqlQuery = 'SELECT DATETIME(usersession.endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") AS \"Date\", CONDITION('+$Aggregate+'(useraction.'+$KPI+'), where usersession.stringProperties.'+$ConversionGoal+' is not null)  AS \"Conversions\", CONDITION('+$Aggregate+'(useraction.'+$KPI+'), where usersession.stringProperties.'+$ConversionGoal+' is null)  AS \"Abandons\" from useraction WHERE useraction.application=\"'+$AppName+'\" and useraction.name=\"'+$KeyUserAction+'\" and  usersession.starttime>='+startTime+' and usersession.endtime<='+endTime+' GROUP BY  DATETIME(usersession.endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: startTime, endTimestamp: endTime});\n  const sampleCount = response.values.length;\n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n      return {\n        Date: response.values[index][0],\n        'Conversions': response.values[index][1]/1000,\n        'Abandons': response.values[index][2]/1000\n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         Date: { type: 'timestamp' },\n          'Conversions': { type: 'double' },\n          'Abandons': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"seriesOverrides":[{"seriesId":["Abandons"],"override":{"color":{"Default":"var(--dt-colors-charts-vulnerability-risk-level-critical-default, #970c0c)","Hover":"var(--dt-colors-charts-vulnerability-risk-level-critical-hover, #750b0b)","Active":"var(--dt-colors-charts-vulnerability-risk-level-critical-active, #4b0707)","DefaultTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-default-transparent, #591300cc)","HoverTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-hover-transparent, #000c)","ActiveTransparent":"var(--dt-colors-charts-vulnerability-risk-level-critical-active-transparent, #000c)"}}},{"seriesId":["Conversions"],"override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #0d9c29)","Hover":"var(--dt-colors-charts-categorical-color-09-hover, #0a7b20)","Active":"var(--dt-colors-charts-categorical-color-09-active, #075f19)","DefaultTransparent":"var(--dt-colors-charts-categorical-color-09-default-transparent, #008500cc)","HoverTransparent":"var(--dt-colors-charts-categorical-color-09-hover-transparent, #005905cc)","ActiveTransparent":"var(--dt-colors-charts-categorical-color-09-active-transparent, #003112cc)"}}}],"legend":{"position":"bottom","hidden":false},"leftYAxisSettings":{"label":"Seconds"}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"rowDensity":"condensed","enableLineWrap":false,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[]}}},"148":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"149":{"type":"code","title":"","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  // Get KPI for sessions that converted\n  const usqlQuery = 'SELECT '+$Aggregate+'(useraction.'+$KPI+') FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime;\n  const response = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery,startTimestamp: startTime, endTimestamp: endTime });\n  // Get Conversion Rate below and above KPI line\n  const usqlQuery1 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'<'+response[\"values\"][0][0]+' and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery2 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'<'+response[\"values\"][0][0]+' and starttime>='+startTime+' and endtime<='+endTime;\n  const response1 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery1,startTimestamp: startTime, endTimestamp: endTime });\n  const response2 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery2,startTimestamp: startTime, endTimestamp: endTime });\n  const usqlQuery3 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringProperties.'+$ConversionGoal+' is not null and '+$KPI+'>'+response[\"values\"][0][0]+' and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery4 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>'+response[\"values\"][0][0]+' and starttime>='+startTime+' and endtime<='+endTime;\n  const response3 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery3,startTimestamp: startTime, endTimestamp: endTime });\n  const response4 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery4,startTimestamp: startTime, endTimestamp: endTime });\n// Return analysis\n  if ((response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)-(response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)>20) \n    return \"Analyzing the Conversion Trend graph, your trend score is \"+((response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)-(response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)).toFixed(2)+\". This indicates that \\\"\"+$KeyUserAction+\"\\\" \"+$KPI+\" is substantially impacting your conversion rate.\";\n  else if ((response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)-(response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)>10) \n     return \"Analyzing the Conversion Trend graph, your trend score is \"+((response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)-(response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)).toFixed(2)+\". This indicates that \\\"\"+$KeyUserAction+\"\\\" \"+$KPI+\" is significantly impacting your conversion rate.\";\n  else if ((response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)-(response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)>0)\n     return \"Analyzing the Conversion Trend graph, your trend score is \"+((response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)-(response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)).toFixed(2)+\". This indicates that \\\"\"+$KeyUserAction+\"\\\" \"+$KPI+\" is moderately impacting your conversion rate.\";\n  else \n     return \"Analyzing the Conversion Trend graph, your trend score is negitive. This indicates that \\\"\"+$KeyUserAction+\"\\\" \"+$KPI+\" is not impacting your conversion rate.\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Analysis Summary","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"150":{"type":"code","title":"","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  // Get KPI for sessions that converted\n  const usqlQuery = 'SELECT '+$Aggregate+'(useraction.'+$KPI+') FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  const response = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery,startTimestamp: startTime, endTimestamp: endTime });\n  // Get Conversion Rate below and above KPI line\n  const usqlQuery1 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'<'+response[\"values\"][0][0]+' and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery2 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'<'+response[\"values\"][0][0]+' and starttime>='+startTime+' and endtime<='+endTime;\n  const response1 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery1,startTimestamp: startTime, endTimestamp: endTime });\n  const response2 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery2,startTimestamp: startTime, endTimestamp: endTime });\n  const usqlQuery3 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and isexitaction is true and '+$KPI+'>'+response[\"values\"][0][0]+' and starttime>='+startTime+' and endtime<='+endTime;\n  const usqlQuery4 = 'SELECT count(*) as \"CNT\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and '+$KPI+'>'+response[\"values\"][0][0]+' and starttime>='+startTime+' and endtime<='+endTime;\n  const response3 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery3,startTimestamp: startTime, endTimestamp: endTime });\n  const response4 = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery4,startTimestamp: startTime, endTimestamp: endTime });\n\n  // Return analysis\n  if ((response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)-(response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)>20) \n    return \"Analyzing the Site Exit Trend graph, your trend score is \"+((response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)-(response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)).toFixed(2)+\". This indicates that \\\"\"+$KeyUserAction+\"\\\" \"+$KPI+\" is substantially causing users to exit your site.\";\n  else if ((response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)-(response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)>10) \n     return \"Analyzing the Site Exit Trend graph, your trend score is \"+((response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)-(response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)).toFixed(2)+\". This indicates that \\\"\"+$KeyUserAction+\"\\\" \"+$KPI+\" is significantly causing users to exit your site.\";\n  else if ((response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)-(response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)>0)\n     return \"Analyzing the Site Exit Trend graph, your trend score is \"+((response3[\"values\"][0][0]/response4[\"values\"][0][0]*100)-(response1[\"values\"][0][0]/response2[\"values\"][0][0]*100)).toFixed(2)+\". This indicates that \\\"\"+$KeyUserAction+\"\\\" \"+$KPI+\" is moderately causing users to exit your site.\";\n  else \n     return \"Analyzing the Site Exit Trend graph, your trend score is negitive. This indicates that \\\"\"+$KeyUserAction+\"\\\" \"+$KPI+\" is not causing users to exit your site.\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"151":{"type":"code","title":"","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var query1 = 'SELECT count(distinct usersession.usersessionid) FROM useraction WHERE application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is null and useraction.'+$KPI+'>(1000*'+$kpiLimit+') and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  var query2 = 'SELECT '+$Aggregate+'(useraction.'+$KPI+'),count(distinct usersession.usersessionid) FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime;\n  var query3 = 'SELECT '+$Aggregate+'(useraction.'+$KPI+'),count(distinct usersession.usersessionid) FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is null and useraction.'+$KPI+'>(1000*'+$kpiLimit+') and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  var query4 = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Current Sessions\", CONDITION (count(*),WHERE usersession.stringProperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime+') as \"Current Conversions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\" and starttime>='+startTime+' and endtime<='+endTime;  \nexport default async function () {\n  const result1 = await rumUserSessionsClient.getUsqlResultAsTable({query: query1, startTimestamp: startTime, endTimestamp: endTime});\n  const result2 = await rumUserSessionsClient.getUsqlResultAsTable({query: query2, startTimestamp: startTime, endTimestamp: endTime});\n  const result3 = await rumUserSessionsClient.getUsqlResultAsTable({query: query3, startTimestamp: startTime, endTimestamp: endTime});\n  const result4 = await rumUserSessionsClient.getUsqlResultAsTable({query: query4, startTimestamp: startTime, endTimestamp: endTime});\n  var victims = result1[\"values\"][0][0];\n  var sessions = result4[\"values\"][0][0];\n  var conversions = result4[\"values\"][0][1];\n  var ckpi = result2[\"values\"][0][0];\n  var akpi = result3[\"values\"][0][0];\n  var pconversions = (victims)*(conversions/sessions);\n  return result2[\"values\"][0][1]+\" sessions converted with \"+$Aggregate+\" \"+$KPI+\" of \"+((result2[\"values\"][0][0])/1000).toFixed(2)+\"s. \"+result3[\"values\"][0][1]+\" sessions abandoned with \"+$Aggregate+\" \"+$KPI+\" of \"+((result3[\"values\"][0][0])/1000).toFixed(2)+\"s. Dynatrace projects a change of \"+(pconversions).toFixed(0)+\" conversions and a conversion rate of \"+(((conversions+pconversions)/sessions)*100).toFixed(2)+\"%\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"152":{"type":"code","title":"","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var query1 = 'SELECT count(distinct usersession.usersessionid) FROM useraction WHERE application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is null and useraction.'+$KPI+'>(1000*'+$kpiLimit+') and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  var query2 = 'SELECT '+$Aggregate+'(useraction.'+$KPI+'),count(distinct usersession.usersessionid) FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime;\n  var query3 = 'SELECT '+$Aggregate+'(useraction.'+$KPI+'),count(distinct usersession.usersessionid) FROM useraction WHERE useraction.application=\"'+$AppName+'\" and name=\"'+$KeyUserAction+'\" and usersession.stringproperties.'+$ConversionGoal+' is null and useraction.'+$KPI+'>(1000*'+$kpiLimit+') and isexitaction is true and starttime>='+startTime+' and endtime<='+endTime;\n  var query4 = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Current Sessions\", CONDITION (count(*),WHERE usersession.stringProperties.'+$ConversionGoal+' is not null and starttime>='+startTime+' and endtime<='+endTime+') as \"Current Conversions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\" and starttime>='+startTime+' and endtime<='+endTime;  \nexport default async function () {\n  const result1 = await rumUserSessionsClient.getUsqlResultAsTable({query: query1, startTimestamp: startTime, endTimestamp: endTime});\n  const result2 = await rumUserSessionsClient.getUsqlResultAsTable({query: query2, startTimestamp: startTime, endTimestamp: endTime});\n  const result3 = await rumUserSessionsClient.getUsqlResultAsTable({query: query3, startTimestamp: startTime, endTimestamp: endTime});\n  const result4 = await rumUserSessionsClient.getUsqlResultAsTable({query: query4, startTimestamp: startTime, endTimestamp: endTime});\n  var victims = result1[\"values\"][0][0];\n  var sessions = result4[\"values\"][0][0];\n  var conversions = result4[\"values\"][0][1];\n  var ckpi = result2[\"values\"][0][0];\n  var akpi = result3[\"values\"][0][0];\n  var pconversions = (victims)*(conversions/sessions);\n  if (akpi<ckpi)\n    return \" increrases by \"+((ckpi-akpi)/1000).toFixed(2)+\"s. This will create a negitive revenue projection impact of $\"+Intl.NumberFormat().format((pconversions*$AvgOrderValue).toFixed(2))+\" over 30 days and a projected annualized loss of \"+Intl.NumberFormat().format((pconversions*$AvgOrderValue*12).toFixed(2))+\".\";\n  else\n    return \"if \"+$KPI+\" is reduced by \"+((akpi-ckpi)/1000).toFixed(2)+\"s. This will create a positive revenue projection impact of $\"+Intl.NumberFormat().format((pconversions*$AvgOrderValue).toFixed(2))+\" over the selected timeframe and a projected annualized return of $\"+Intl.NumberFormat().format((pconversions*$AvgOrderValue*365/((endTime - startTime)/24/60/60/1000)).toFixed(2))+\".\";    \n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}}},"layouts":{"8":{"x":0,"y":0,"w":23,"h":1},"9":{"x":0,"y":1,"w":10,"h":2},"18":{"x":15,"y":1,"w":2,"h":2},"23":{"x":13,"y":1,"w":2,"h":2},"36":{"x":0,"y":26,"w":22,"h":1},"74":{"x":10,"y":1,"w":3,"h":2},"76":{"x":22,"y":26,"w":2,"h":1},"122":{"x":0,"y":4,"w":11,"h":7},"136":{"x":12,"y":4,"w":11,"h":7},"140":{"x":0,"y":11,"w":23,"h":1},"144":{"x":0,"y":3,"w":23,"h":1},"145":{"x":17,"y":1,"w":3,"h":2},"146":{"x":20,"y":1,"w":3,"h":2},"147":{"x":0,"y":17,"w":23,"h":5},"148":{"x":0,"y":16,"w":23,"h":1},"149":{"x":0,"y":12,"w":23,"h":2},"150":{"x":0,"y":14,"w":23,"h":2},"151":{"x":0,"y":22,"w":23,"h":2},"152":{"x":0,"y":24,"w":23,"h":2}}}