{"version":11,"variables":[{"key":"AppName","type":"query","input":"fetch dt.entity.application \n|fields entity.name","multiple":false},{"key":"MilestoneGoal","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n   const usqlQuery = 'SELECT DISTINCT matchingconversiongoals FROM useraction WHERE matchingconversiongoals IS NOT NULL';\n  const response = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery });\n\nconst sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n\n}","multiple":false},{"key":"ConversionGoal","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n   const usqlQuery = 'SELECT DISTINCT matchingconversiongoals FROM useraction WHERE matchingconversiongoals IS NOT NULL';\n  const response = await  rumUserSessionsClient.getUsqlResultAsTable({ query: usqlQuery });\n\nconst sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n\n}","multiple":false},{"key":"Revenue","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n  const lastXDays = 30;\n  const usqlQuery = 'select doubleProperties FROM usersession where useraction.application=\"www.angular.easytravel.com\"';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n  let arr = [];\n  (response.values).forEach(e2 => {\n    (e2).forEach(e3 => {\n      (e3).forEach(e => {\n        arr.push(e.key);\n      });\n    });\n  });\n  return( arr)\n}","multiple":false},{"key":"TimeShift","type":"csv","input":"1,2,3,4,5,6,7,8,14,21","multiple":false}],"tiles":{"5":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"8":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"9":{"type":"markdown","title":"","content":"![](data:image/webp;base64,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)"},"18":{"type":"code","title":"Conversion Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\nconst MilestoneName = $MilestoneGoal;\nconst query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Current Sessions\", CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"Previous Sessions\", CONDITION (count(*),WHERE useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startTime+' and endtime<='+endTime+') as \"Current Conversions\", CONDITION (count(*),WHERE useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"Previous Conversions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\" and useraction.matchingConversionGoals=\"'+$MilestoneGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n\n  var str1 = ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)-(result[\"values\"][0][3]/result[\"values\"][0][1]*100)).toFixed(2);\n    \n  if ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)>(result[\"values\"][0][3]/result[\"values\"][0][1]*100)) \n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🟢)\";\n  else if ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)<(result[\"values\"][0][3]/result[\"values\"][0][1]*100))\n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🔴)\";\n  else\n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"23":{"type":"code","title":"Apdex","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\n\nconst query = 'SELECT CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CSatisfied Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CTolerated Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CFrustrated Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PSatisfied Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PTolerated Sessions\", CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PFrustrated Sessions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n\n  var str1 = ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) - (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5])).toFixed(2);\n  \n  if ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) > (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5])) \n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) < (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5]))\n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1*(-1)+\" ↘️🔴)\";\n  else\n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"27":{"type":"code","title":"Efficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\nconst query = 'SELECT CONDITION (count(*),WHERE useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CER2\", CONDITION (count(*),WHERE useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PER\", CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PER2\" FROM usersession WHERE useraction.application=\"'+$AppName+'\"';\n\n  export default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n\n  var str1 = ((result[\"values\"][0][1]/result[\"values\"][0][0])*100-(result[\"values\"][0][3]/result[\"values\"][0][2])*100).toFixed(2);\n  \n  if ((result[\"values\"][0][1]/result[\"values\"][0][0])>(result[\"values\"][0][3]/result[\"values\"][0][2])) \n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🟢)\";\n  else if ((result[\"values\"][0][1]/result[\"values\"][0][0])<(result[\"values\"][0][3]/result[\"values\"][0][2]))\n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🔴)\";\n  else\n  return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"29":{"type":"code","title":"Deficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\nconst query = 'SELECT CONDITION (count(*),WHERE not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startTime+' and endtime<='+endTime+') as \"CER2\", CONDITION (count(*),WHERE not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PER\", CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"PER2\" FROM usersession WHERE useraction.application=\"'+$AppName+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n\nvar str1 = ((result[\"values\"][0][1]/result[\"values\"][0][0])*100-(result[\"values\"][0][3]/result[\"values\"][0][2])*100).toFixed(2);\n  \n  if ((result[\"values\"][0][1]/result[\"values\"][0][0])>(result[\"values\"][0][3]/result[\"values\"][0][2])) \n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][1]/result[\"values\"][0][0])<(result[\"values\"][0][3]/result[\"values\"][0][2]))\n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🟢)\";\n  else\n  return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"32":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"36":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"40":{"type":"markdown","title":"","content":"# "},"43":{"type":"code","title":"Low Risk Lost Revenue","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\nconst revenueName = $Revenue;\nconst query = 'SELECT CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and usersession.userexperiencescore=\"TOLERATED\" and not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100;\n  var rev = (result[\"values\"][0][0]/1000000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)*(-1)+\"% ↘️🟢)\";\n  else\n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Lost Revenue","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"44":{"type":"code","title":"High Risk Lost Revenue","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\nconst revenueName = $Revenue;\nconst query = 'SELECT CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and usersession.userexperiencescore=\"FRUSTRATED\" and not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100;\n  var rev = (result[\"values\"][0][0]/1000000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)*(-1)+\"% ↘️🟢)\";\n  else\n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Lost Revenue","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"51":{"type":"code","title":"High Risk Revenue","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\n  const revenueName = $Revenue;\nconst query = 'SELECT CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and usersession.userexperiencescore=\"FRUSTRATED\" and useraction.matchingconversiongoals=\"'+$ConversionGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100;\n  var rev = (result[\"values\"][0][0]/1000000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)*(-1)+\"% ↘️🟢)\";\n  else\n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Revenue","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"52":{"type":"code","title":"No Risk Lost Revenue","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\nconst revenueName = $Revenue;\nconst query = 'SELECT CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and usersession.userexperiencescore=\"SATISFIED\" and not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2))*100;\n  var rev = (result[\"values\"][0][0]/1000000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)*(-1)+\"% ↘️🟢)\";\n  else\n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Lost Revenue","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"54":{"type":"code","title":"Revenue vs Lost Revenue","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const applicationName = $AppName;\n  const ConversionName = $ConversionGoal;\n  const revenueName = $Revenue;\n  // Calculate Chart Interval\n  const timeDiff = (endTime-startTime)/3600/1000/24;\n  var chartInterval = \"1m\"\n  if (timeDiff>.5)\n    var chartInterval = \"10m\"\n  if (timeDiff>1)\n    var chartInterval = \"1h\"\n  const usqlQuery = 'SELECT DISTINCT DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") AS \"Date\", CONDITION(sum(usersession.doubleproperties.'+$Revenue+'), where useraction.matchingconversiongoals=\"'+$ConversionGoal+'\")  AS \"Revenue\", CONDITION(sum(usersession.doubleproperties.'+$Revenue+'), where not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\") AS \"Lost Revenue\" from usersession WHERE useraction.application=\"'+$AppName+'\" and starttime>='+startTime+' and endtime<='+endTime+' limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: startTime, endTimestamp: endTime});\n  const sampleCount = response.values.length;\n  \n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n      \n      return {\n        Date: response.values[index][0],\n        'Revenue': response.values[index][1],\n        'Lost Revenue': response.values[index][2]         \n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         \n         Date: { type: 'timestamp' },\n          'Revenue': { type: 'double' },\n          'Lost Revenue': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"hideLabels":false,"thresholdType":"absolute"},"colorPalette":"apdex","legend":{"hidden":false,"position":"bottom"},"seriesOverrides":[{"seriesId":"Lost Revenue","override":{"color":"#FF0000"}},{"seriesId":"Revenue","override":{"color":"#008000"}}]},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"55":{"type":"code","title":"No Risk Revenue","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\n  const revenueName = $Revenue;\nconst query = 'SELECT CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals=\"'+$ConversionGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100;\n  var rev = (result[\"values\"][0][0]/1000000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)*(-1)+\"% ↘️🔴)\";\n  else\n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Revenue","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"56":{"type":"code","title":"Low Risk Revenue","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\n  const revenueName = $Revenue;\nconst query = 'SELECT CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (sum(usersession.doubleproperties.'+$Revenue+'),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application=\"'+$AppName+'\" and usersession.userexperiencescore=\"TOLERATED\" and useraction.matchingconversiongoals=\"'+$ConversionGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100;\n  var rev = (result[\"values\"][0][0]/1000000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)*(-1)+\"% ↘️🟢)\";\n  else\n   return \"$\"+rev+\"M (\"+(str1).toFixed(2)+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Revenue","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"61":{"type":"code","title":"Revenue by User Experience","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const applicationName = $AppName;\n  const ConversionName = $ConversionGoal;\n  const revenueName = $Revenue;\n  const usqlQuery = 'select userExperienceScore as \"UX\", sum(usersession.doubleproperties.'+$Revenue+') as \"Revenue\" FROM usersession where useraction.application=\"'+$AppName+'\"  and  (useraction.matchingConversionGoals=\"'+$ConversionGoal+'\") and starttime>='+startTime+' and endtime<='+endTime+' group by userExperienceScore order by sum(usersession.doubleproperties.'+$Revenue+') DESC LIMIT 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: startTime, endTimestamp: endTime});\n  const sampleCount = response.values.length;\n  \n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n      \n      return {\n        'UX': response.values[index][0],\n        'Revenue': response.values[index][1]      \n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         \n          'UX': { type: 'string' },\n          'Revenue': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"donutChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","colorPalette":"apdex","circleChartSettings":{"hideLabels":false,"thresholdType":"absolute","thresholdValue":50},"legend":{"position":"right","hidden":false}},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"74":{"type":"code","title":"Avg Duration","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst query = 'SELECT CONDITION (avg(duration),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (avg(duration),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM useraction WHERE useraction.application=\"'+$AppName+'\"';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s ↘️🟢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Avg Duration","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"75":{"type":"code","title":"Avg Errors","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst query = 'SELECT CONDITION (avg(totalerrorcount),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (avg(totalerrorcount),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM usersession WHERE useraction.application=\"'+$AppName+'\"';\n\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var err = (result[\"values\"][0][0]).toFixed(2);\n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return err+\" (\"+(str1).toFixed(2)+\" ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return err+\" (\"+(str1).toFixed(2)*(-1)+\" ↘️🟢)\";\n  else\n   return err+\" (\"+(str1).toFixed(2)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"77":{"type":"code","title":"Lost Revenue by User Experience","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const applicationName = $AppName;\n  const ConversionName = $ConversionGoal;\n  const revenueName = $Revenue;\n  const usqlQuery = 'select userExperienceScore as \"UX\", sum(usersession.doubleproperties.'+$Revenue+') as \"Lost Revenue\" FROM usersession where useraction.application=\"'+$AppName+'\"  and not (useraction.matchingConversionGoals=\"'+$ConversionGoal+'\") and starttime>='+startTime+' and endtime<='+endTime+' group by userExperienceScore order by sum(usersession.doubleproperties.'+$Revenue+') DESC LIMIT 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: startTime, endTimestamp: endTime});\n  const sampleCount = response.values.length;\n  \n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n      \n      return {\n        'UX': response.values[index][0],\n        'Lost Revenue': response.values[index][1]      \n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         \n          'UX': { type: 'string' },\n          'Lost Revenue': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"donutChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","colorPalette":"apdex","circleChartSettings":{"hideLabels":false,"thresholdType":"absolute"},"legend":{"position":"right","hidden":false}},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"81":{"type":"markdown","title":"","content":"[**Help**](https://github.com/TechShady/Dynatrace-Dashboards-Gen3/blob/main/ReadMeRevenueOverview.md#user-guide)"},"82":{"type":"code","title":"Sessions","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  const applicationName = $AppName;\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"CER\", CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"CER2\" FROM usersession where useraction.application=\"'+$AppName+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  \n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)*(-1)+\" ↘️🔴)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+(str1)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Avg Duration","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"83":{"type":"code","title":"Avg Clicks to Revenue","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\nconst MilestoneGoal = $MilestoneGoal;\nconst query = 'SELECT CONDITION (avg(userActionCount),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Current Actions\", CONDITION (avg(userActionCount),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"Previous Actions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\" and useraction.matchingConversionGoals=\"'+$MilestoneGoal+'\" and useraction.matchingconversiongoals=\"'+$ConversionGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]).toFixed(2);\n  \n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(str1)+\" ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(str1)*(-1)+\" ↘️🟢)\";\n  else\n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(str1)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Revenue","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"84":{"type":"code","title":"Avg Clicks to Lost Revenue","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\nconst applicationName = $AppName;\nconst ConversionName = $ConversionGoal;\nconst MilestoneGoal = $MilestoneGoal;\nconst query = 'SELECT CONDITION (avg(userActionCount),WHERE starttime>='+startTime+' and endtime<='+endTime+') as \"Current Actions\", CONDITION (avg(userActionCount),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') as \"Previous Actions\" FROM usersession WHERE useraction.application=\"'+$AppName+'\" and useraction.matchingConversionGoals=\"'+$MilestoneGoal+'\" and not useraction.matchingconversiongoals=\"'+$ConversionGoal+'\"';\nexport default async function () {\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]).toFixed(2);\n  \n  \n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(str1)+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(str1)*(-1)+\" ↘️🔴)\";\n  else\n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(str1)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"Lost Revenue","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}}},"layouts":{"5":{"x":0,"y":3,"w":24,"h":1},"8":{"x":0,"y":0,"w":24,"h":1},"9":{"x":0,"y":1,"w":10,"h":2},"18":{"x":20,"y":1,"w":2,"h":2},"23":{"x":22,"y":1,"w":2,"h":2},"27":{"x":16,"y":1,"w":2,"h":2},"29":{"x":18,"y":1,"w":2,"h":2},"32":{"x":0,"y":11,"w":24,"h":1},"36":{"x":0,"y":18,"w":22,"h":1},"40":{"x":6,"y":7,"w":12,"h":1},"43":{"x":12,"y":8,"w":3,"h":3},"44":{"x":15,"y":8,"w":3,"h":3},"51":{"x":15,"y":4,"w":3,"h":3},"52":{"x":9,"y":8,"w":3,"h":3},"54":{"x":0,"y":12,"w":24,"h":6},"55":{"x":9,"y":4,"w":3,"h":3},"56":{"x":12,"y":4,"w":3,"h":3},"61":{"x":0,"y":4,"w":6,"h":7},"74":{"x":12,"y":1,"w":2,"h":2},"75":{"x":14,"y":1,"w":2,"h":2},"77":{"x":18,"y":4,"w":6,"h":7},"81":{"x":22,"y":18,"w":2,"h":1},"82":{"x":10,"y":1,"w":2,"h":2},"83":{"x":6,"y":4,"w":3,"h":3},"84":{"x":6,"y":8,"w":3,"h":3}}}